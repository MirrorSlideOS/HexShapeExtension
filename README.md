# HexShapeExtension
Watch Shapes
****

Working.....Chrome....Grok....
{
  "description": "Hex Shape Pump Chrome extension package. Create a folder named 'HexShapeExtension', add these files, and include a 128x128 'icon.png'.",
  "files": {
    "manifest.json": {
      "content": "{\n  \"manifest_version\": 3,\n  \"name\": \"Hex Shape Pump\",\n  \"version\": \"1.0\",\n  \"description\": \"Displays random hexagonal shapes, circles, and colors with video, image, and text file integration via a console.\",\n  \"permissions\": [\n    \"activeTab\"\n  ],\n  \"action\": {\n    \"default_popup\": \"popup.html\"\n  },\n  \"content_scripts\": [\n    {\n      \"matches\": [\"<all_urls>\"],\n      \"js\": [\"content.js\"]\n    }\n  ],\n  \"icons\": {\n    \"128\": \"icon.png\"\n  }\n}"
    },
    "popup.html": {
      "content": "<!DOCTYPE html>\n<html>\n<head>\n  <title>Hex Shape Pump</title>\n  <link rel=\"stylesheet\" href=\"styles.css\">\n</head>\n<body>\n  <h2>Hex Shape Pump</h2>\n  <button id=\"startShapes\">Start Shapes</button>\n  <button id=\"stopShapes\">Stop Shapes</button>\n  <div>\n    <label for=\"videoUrl\">Video URL:</label>\n    <input type=\"text\" id=\"videoUrl\" placeholder=\"e.g., https://example.com/video.mp4\">\n    <button id=\"playVideo\">Play Video</button>\n  </div>\n  <div>\n    <label for=\"musicUrl\">Music URL:</label>\n    <input type=\"text\" id=\"musicUrl\" placeholder=\"e.g., https://example.com/music.mp3\">\n    <button id=\"playMusic\">Play Music</button>\n    <button id=\"stopMusic\">Stop Music</button>\n  </div>\n  <script src=\"popup.js\"></script>\n</body>\n</html>"
    },
    "popup.js": {
      "content": "document.getElementById('startShapes').addEventListener('click', () => {\n  chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n    chrome.tabs.sendMessage(tabs[0].id, { action: 'startShapes' });\n  });\n});\n\ndocument.getElementById('stopShapes').addEventListener('click', () => {\n  chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n    chrome.tabs.sendMessage(tabs[0].id, { action: 'stopShapes' });\n  });\n});\n\ndocument.getElementById('playVideo').addEventListener('click', () => {\n  const videoUrl = document.getElementById('videoUrl').value;\n  if (videoUrl) {\n    chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n      chrome.tabs.sendMessage(tabs[0].id, { action: 'playVideo', url: videoUrl });\n    });\n  }\n});\n\ndocument.getElementById('playMusic').addEventListener('click', () => {\n  const musicUrl = document.getElementById('musicUrl').value;\n  if (musicUrl) {\n    chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n      chrome.tabs.sendMessage(tabs[0].id, { action: 'playMusic', url: musicUrl });\n    });\n  }\n});\n\ndocument.getElementById('stopMusic').addEventListener('click', () => {\n  chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n    chrome.tabs.sendMessage(tabs[0].id, { action: 'stopMusic' });\n  });\n});"
    },
    "content.js": {
      "content": "let canvas, ctx, animationFrameId, audioElement, videoElement, imageElement, customText = [];\n\nfunction createCanvas() {\n  if (document.getElementById('hexShapeCanvas')) return;\n  canvas = document.createElement('canvas');\n  canvas.id = 'hexShapeCanvas';\n  canvas.style.position = 'fixed';\n  canvas.style.top = '0';\n  canvas.style.right = '0';\n  canvas.style.width = '300px';\n  canvas.style.height = '100vh';\n  canvas.style.zIndex = '1000';\n  canvas.style.background = 'rgba(0, 0, 0, 0.5)';\n  document.body.appendChild(canvas);\n  ctx = canvas.getContext('2d');\n  resizeCanvas();\n  window.addEventListener('resize', resizeCanvas);\n}\n\nfunction createConsole() {\n  if (document.getElementById('hexShapeConsole')) return;\n  const consoleDiv = document.createElement('div');\n  consoleDiv.id = 'hexShapeConsole';\n  consoleDiv.style.position = 'fixed';\n  consoleDiv.style.bottom = '10px';\n  consoleDiv.style.right = '10px';\n  consoleDiv.style.zIndex = '1000';\n  consoleDiv.style.background = 'rgba(255, 255, 255, 0.9)';\n  consoleDiv.style.padding = '10px';\n  consoleDiv.style.borderRadius = '5px';\n  consoleDiv.innerHTML = `\n    <input type=\"text\" id=\"consoleInput\" placeholder=\"Enter video/image/text URL\" style=\"width: 200px; padding: 5px;\">\n    <button id=\"consoleSubmit\" style=\"padding: 5px 10px;\">Load</button>\n  `;\n  document.body.appendChild(consoleDiv);\n\n  document.getElementById('consoleSubmit').addEventListener('click', () => {\n    const input = document.getElementById('consoleInput').value.trim();\n    processConsoleInput(input);\n  });\n}\n\nfunction resizeCanvas() {\n  canvas.width = 300 * window.devicePixelRatio;\n  canvas.height = window.innerHeight * window.devicePixelRatio;\n  ctx.scale(window.devicePixelRatio, window.devicePixelRatio);\n}\n\nfunction getRandomColor() {\n  const r = Math.floor(Math.random() * 256);\n  const g = Math.floor(Math.random() * 256);\n  const b = Math.floor(Math.random() * 256);\n  return `rgb(${r}, ${g}, ${b})`;\n}\n\nfunction drawHexagon(x, y, size) {\n  ctx.beginPath();\n  for (let i = 0; i < 6; i++) {\n    const angle = (Math.PI / 3) * i;\n    const px = x + size * Math.cos(angle);\n    const py = y + size * Math.sin(angle);\n    ctx.lineTo(px, py);\n  }\n  ctx.closePath();\n  ctx.fillStyle = getRandomColor();\n  ctx.fill();\n}\n\nfunction drawCircle(x, y, radius) {\n  ctx.beginPath();\n  ctx.arc(x, y, radius, 0, 2 * Math.PI);\n  ctx.fillStyle = getRandomColor();\n  ctx.fill();\n}\n\nfunction drawText(x, y, text) {\n  ctx.font = '16px Arial';\n  ctx.fillStyle = getRandomColor();\n  ctx.fillText(text, x, y);\n}\n\nfunction drawImage(img, x, y, width, height) {\n  ctx.drawImage(img, x, y, width, height);\n}\n\nfunction processConsoleInput(input) {\n  if (!input) return;\n  const url = input.toLowerCase();\n  \n  // Check if it's a video URL\n  if (url.match(/\\.(mp4|webm|ogg)$/)) {\n    playVideo(input);\n  }\n  // Check if it's an image URL\n  else if (url.match(/\\.(jpg|jpeg|png|gif)$/)) {\n    const img = new Image();\n    img.crossOrigin = 'Anonymous';\n    img.onload = () => {\n      imageElement = { img, x: Math.random() * 250, y: Math.random() * canvas.height / window.devicePixelRatio, width: 50, height: 50 };\n    };\n    img.onerror = () => console.error('Image load error:', input);\n    img.src = input;\n  }\n  // Check if it's a text file URL\n  else if (url.match(/\\.(txt)$/)) {\n    fetch(input, { mode: 'cors' })\n      .then(response => response.text())\n      .then(text => {\n        customText.push(text.substring(0, 100)); // Limit to 100 chars\n      })\n      .catch(e => console.error('Text file load error:', e));\n  }\n  else {\n    console.warn('Unsupported file type. Use mp4, webm, ogg, jpg, png, gif, or txt.');\n  }\n  document.getElementById('consoleInput').value = '';\n}\n\nfunction animateShapes() {\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  const numShapes = 8;\n  for (let i = 0; i < numShapes; i++) {\n    const x = Math.random() * 300;\n    const y = Math.random() * canvas.height / window.devicePixelRatio;\n    const size = 10 + Math.random() * 20;\n    if (Math.random() > 0.5) {\n      drawHexagon(x, y, size);\n    } else {\n      drawCircle(x, y, size);\n    }\n  }\n  const numTexts = 2;\n  for (let i = 0; i < numTexts; i++) {\n    const x = Math.random() * 250;\n    const y = Math.random() * canvas.height / window.devicePixelRatio;\n    drawText(x, y, 'Hello World!');\n  }\n  // Draw custom text from files\n  customText.forEach((text, index) => {\n    const x = Math.random() * 250;\n    const y = Math.random() * canvas.height / window.devicePixelRatio;\n    drawText(x, y, text.substring(0, 20)); // Limit for readability\n  });\n  // Draw image if loaded\n  if (imageElement) {\n    drawImage(imageElement.img, imageElement.x, imageElement.y, imageElement.width, imageElement.height);\n  }\n  animationFrameId = requestAnimationFrame(animateShapes);\n}\n\nfunction playVideo(url) {\n  if (!videoElement) {\n    videoElement = document.createElement('video');\n    videoElement.id = 'hexShapeVideo';\n    videoElement.style.position = 'fixed';\n    videoElement.style.top = '0';\n    videoElement.style.right = '310px';\n    videoElement.style.width = '300px';\n    videoElement.style.zIndex = '1000';\n    videoElement.controls = true;\n    document.body.appendChild(videoElement);\n  }\n  videoElement.src = url;\n  videoElement.play().catch((e) => console.error('Video playback error:', e));\n}\n\nfunction playMusic(url) {\n  if (audioElement) {\n    audioElement.pause();\n    audioElement.remove();\n  }\n  audioElement = document.createElement('audio');\n  audioElement.src = url;\n  audioElement.controls = true;\n  audioElement.style.position = 'fixed';\n  audioElement.style.bottom = '10px';\n  audioElement.style.right = '10px';\n  audioElement.style.zIndex = '1000';\n  document.body.appendChild(audioElement);\n  audioElement.play().catch((e) => console.error('Audio playback error:', e));\n}\n\nfunction stopMusic() {\n  if (audioElement) {\n    audioElement.pause();\n    audioElement.remove();\n    audioElement = null;\n  }\n}\n\n// Check if running in Chrome extension environment\nif (typeof chrome !== 'undefined' && chrome.runtime) {\n  chrome.runtime.onMessage.addListener((message, sender, sendResponse) => {\n    try {\n      if (message.action === 'startShapes') {\n        createCanvas();\n        createConsole();\n        if (!animationFrameId) {\n          animateShapes();\n        }\n      } else if (message.action === 'stopShapes') {\n        if (animationFrameId) {\n          cancelAnimationFrame(animationFrameId);\n          animationFrameId = null;\n          if (canvas) {\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n          }\n        }\n      } else if (message.action === 'playVideo') {\n        playVideo(message.url);\n      } else if (message.action === 'playMusic') {\n        playMusic(message.url);\n      } else if (message.action === 'stopMusic') {\n        stopMusic();\n      }\n    } catch (e) {\n      console.error('Error handling message:', e);\n    }\n  });\n} else {\n  console.warn('This script is designed to run as a Chrome extension content script. The chrome object is not available.');\n}"
    },
    "styles.css": {
      "content": "body {\n  width: 400px;\n  padding: 10px;\n  font-family: Arial, sans-serif;\n  background-color: #f0f0f0;\n}\n\nh2 {\n  text-align: center;\n  color: #333;\n}\n\nbutton {\n  display: block;\n  width: 100%;\n  padding: 10px;\n  margin: 5px 0;\n  background-color: #007bff;\n  color: white;\n  border: none;\n  cursor: pointer;\n}\n\nbutton:hover {\n  background-color: #0056b3;\n}\n\ndiv {\n  margin: 10px 0;\n}\n\ninput {\n  width: 100%;\n  padding: 5px;\n  margin: 5px 0;\n}"
    },
    "icon.png": {
      "content": "Placeholder: Create or download a 128x128 pixel image named 'icon.png'. Use tools like Canva or GIMP to design a hexagon or infinity symbol. Place it in the 'HexShapeExtension' folder."
    }
  }
}
